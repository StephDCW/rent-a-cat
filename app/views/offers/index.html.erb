
<div class="contain">
  <div class="col d-flex justify-content-between">
      <% if @offers %>
        <p>We found <%= @offers.count %> offers out of our <%= Offer.count %> on our website.</p>
      <% else %>
        <p>All <%= @offers.count %> offers.  </p>
        <p><%= link_to "Return to the search", root_path, class: "btn-gradient" %></p>
      <% end %>
    </div>
    <div class="card-cat-container">
      <div class="offer-cards">
        <% @offers.each do |offer| %>
            <div class="offer-card">
              <%= cl_image_tag offer.photo.key, class: 'img-index' %>
              <div class="offer-card-content">
                <div class="offer-card-title text-center">
                  <h4><%= offer.name %></h4>
                <p>
                  <%= offer.location %><hr>
                  <%= offer.price %>$ per day
                </p>
                </div>
                <div class="offer-card-actions">
                  <%= link_to 'More info', offer_path(offer) %>
                  <% if policy(offer).edit? %>
                    <%= link_to 'Edit', edit_offer_path(offer), class: 'ml-2 text-warning' %>
                  <% end %>
                  <% if policy(offer).destroy? %>
                    <%= link_to "Remove", offer_path(offer),
                              method: :delete,
                              data: { confirm: "Are you sure?" },
                              class: 'ml-3 text-danger'
                          %>
                  <% end %>
                </div>
              </div>
            </div>
          <% end %>
      </div>
      <div id="map" class="map py-0"
        style="width: 30%; height: 100vh"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
</div>
